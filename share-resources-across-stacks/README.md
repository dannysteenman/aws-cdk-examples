# How to share resources across stacks in AWS CDK
---

![Stability: Stable](https://img.shields.io/badge/stability-Stable-success.svg?style=for-the-badge)

> **This is a stable example. It should successfully build out of the box**

---

## This example is explained in detail on my blog ðŸ‘‡

This example is used for the blog post on: https://towardsthecloud.com/share-resources-across-stacks-aws-cdk

## How to use this example

### 1. Clone [this repository](https://github.com/dannysteenman/aws-cdk-examples)

```bash
git clone git@github.com:dannysteenman/aws-cdk-examples.git
```

### 2. Change to this example directory

```bash
cd aws-cdk-examples/share-resources-across-stacks
```

### 3. Install the dependencies

```bash
npm install
```

### 4. Synthesize the stacks

To see the Cloudformation template generated by the CDK, run `cdk synth`, then check the output file in the "cdk.out" directory.

```bash
cdk synth
```

### 5. Deploy the stacks

Deploy the stacks in the following order:

```bash
cdk deploy SharedInfraStack

cdk deploy RdsStack
```

### 6. Login to the AWS Console

Go to CloudFormaton in the console to see the stacks you've deployed in your default region.

### 7. Cleanup

Delete the stacks in the following order

```bash
cdk destroy SharedInfraStack

cdk destroy RdsStack
```

---

## Author

**[Danny Steenman](https://github.com/dannysteenman)**

<p align="left">
  <a href="https://twitter.com/dannysteenman"><img src="https://img.shields.io/twitter/follow/dannysteenman?label=%40dannysteenman&style=social"></a>
</p>
